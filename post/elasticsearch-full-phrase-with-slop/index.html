<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.5.0"><meta name=author content="Dainius Jocas"><meta name=description content="Match an entire message text with a slop."><link rel=alternate hreflang=en-us href=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/><meta name=theme-color content="#2962ff"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/blog/css/academic.css><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','UA-122337142-2');</script><link rel=manifest href=/blog/index.webmanifest><link rel=icon type=image/png href=/blog/img/icon-32.png><link rel=apple-touch-icon type=image/png href=/blog/img/icon-192.png><link rel=canonical href=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/><meta property="twitter:card" content="summary_large_image"><meta property="og:site_name" content="Dainius Jocas"><meta property="og:url" content="https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/"><meta property="og:title" content="Match the Entire Text with a Slop in Elasticsearch | Dainius Jocas"><meta property="og:description" content="Match an entire message text with a slop."><meta property="og:image" content="https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/featured.jpg"><meta property="twitter:image" content="https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/featured.jpg"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2023-01-29T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-29T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/"},"headline":"Match the Entire Text with a Slop in Elasticsearch","image":["https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/featured.jpg"],"datePublished":"2023-01-29T00:00:00Z","dateModified":"2023-01-29T00:00:00Z","author":{"@type":"Person","name":"Dainius Jocas"},"publisher":{"@type":"Organization","name":"Dainius Jocas","logo":{"@type":"ImageObject","url":"https://www.jocas.lt/blog/img/icon-512.png"}},"description":"Match an entire message text with a slop."}</script><title>Match the Entire Text with a Slop in Elasticsearch | Dainius Jocas</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id=navbar-main><div class=container><a class=navbar-brand href=/blog/>Dainius Jocas</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/blog/#posts><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/blog/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/blog/#talks><span>Talks</span></a></li><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link js-dark-toggle" href=#><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></div></nav><article class=article><div class="article-container pt-3"><h1>Match the Entire Text with a Slop in Elasticsearch</h1><div class=article-metadata><div><span><a href=/blog/authors/dainius-jocas/>Dainius Jocas</a></span></div><span class=article-date>Jan 29, 2023</span>
<span class=middot-divider></span><span class=article-reading-time>6 min read</span>
<span class=middot-divider></span><span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/blog/categories/elasticsearch/>Elasticsearch</a></span></div><div class="btn-links mb-3"></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:512px;max-height:512px><div style=position:relative><img src=/blog/post/elasticsearch-full-phrase-with-slop/featured.jpg alt class=featured-image>
<span class=article-header-caption>Photo generated with the stable diffusion 2 from the blog title</span></div></div><div class=article-container><div class=article-style><h2 id=intro>Intro</h2><p>Recently I&rsquo;ve done a little Elasticsearch-based demo where there was one requirement I believe is worth sharing: the entire text should match even if two words are swapped.
This post is divided into two parts: requirements for a demo, and several implementation options.</p><h2 id=requirements>Requirements</h2><p>A simplified version of relevant requirements goes something like this:</p><ol><li>Documents are chat app message bodies,</li><li>Match a message body with other messages even if any two words were swapped.</li></ol><p>E.g. a message <code>this is my message</code> should match <code>is this my message</code> and vice versa.</p><p>At first, this looks like nothing fancy, just set up an <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html>analyzer</a> with the required <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html%60>token filters</a> and do a <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase.html>phrase_match query</a> with a <code>slop=2</code>.</p><p>But then comes the tricky bit: we also need to take into account the <strong>length of the message</strong>.
This is because a <code>phrase_match</code> with a short message will match longer messages.
E.g. We don&rsquo;t want that the query <code>is this my message</code> would match <code>this is my message which is longer</code>.</p><h2 id=implementation-strategies>Implementation strategies</h2><p>We&rsquo;ll discuss two implementation strategies: fingerprinting based on the token count and a clever trick leveraging the text analysis pipeline.</p><h3 id=fingerprint>Fingerprint</h3><p>An instinctive approach is to <a href=https://www.elastic.co/guide/en/elasticsearch/reference/master/fingerprint-processor.html>fingerprint</a> the message text.
The simplest fingerprint could just be the count of tokens.
Elasticsearch conveniently offers a <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/token-count.html>token count field type</a>.</p><p>One serious downside of this approach is that at the query time we&rsquo;d have to get the count of tokens of the query.
This means either one additional round-trip to Elasticsearch to get the token count, e.g. using the <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html><code>_analyze</code> API</a> or use of a <code>script</code> in the query.
Let&rsquo;s rule out the round trip to the <code>_analyze</code> API approach for the demo.
Then how to implement the <code>script</code> to get query token count?
The <a href=https://chat.openai.com/chat#>Chat GPT</a> gave me a hint at a possible <code>script</code> based solution :)</p><p><img src=query-token-count.png alt=Script></p><p>A significant problem with the above approach is that the text is split by a whitespace character (or something that <a href=https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#split%2Djava.lang.CharSequence%2D><code>split</code></a> accepts).
Any seasoned search engineer immediately notices that the text is not tokenized by the same analyzer that was used to tokenize the text during the index-time for the token counting.
Of, course we could set up both <code>tokenizers</code> to work the same way, but that approach seems somewhat fragile because part of the logic is in the index mapping and the other part is in the script that lives in the query constructor which is probably inside your application.</p><h3 id=clever-text-analysis>Clever Text Analysis</h3><p>We could also be more clever about how to ensure that the length of the matched texts is equal.
My strategy is to require both conditions to be true:</p><ol><li>Match the text <strong>from the beginning of the string</strong> with a <code>phrase_match</code> query with a slop=2.</li><li>Match the <strong>reversed</strong> text from the beginning of the string with a <code>phrase_match</code> query with a slop=2.</li></ol><p>The strategy requires us to solve 2 puzzles:</p><ol><li>How to match exactly from the beginning of the text?</li><li>How to reverse the text?</li></ol><p>To ensure the matching from the beginning we could insert a synthetic <code>PREFIX</code> token at the position 0.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>For the text reversal the idea is to:</p><ol><li>Use the <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-keyword-tokenizer.html>keyword tokenizer</a></li><li>Use the <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-reverse-tokenfilter.html>reverse</a> token filter on the entire text,</li><li>Split the text into tokens using the <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-word-delimiter-graph-tokenfilter.html#analysis-word-delimiter-graph-tokenfilter>word delimiter graph token filter</a>.</li><li>Add a synthetic token at the position 0.</li></ol><p>Let&rsquo;s work out an example from requirements: <code>this is my message</code> should match <code>is this my message</code> but should not match <code>this is my message which is longer</code>.</p><p>The <code>messages</code> index config<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>:</p><pre><code class=language-json>{
  &quot;settings&quot;: {
    &quot;number_of_replicas&quot;: 0,
    &quot;number_of_shards&quot;: 1,
    &quot;analysis&quot;: {
      &quot;analyzer&quot;: {
        &quot;normal_direction_analyzer&quot;: {
          &quot;type&quot;: &quot;custom&quot;,
          &quot;tokenizer&quot;: &quot;keyword&quot;,
          &quot;filter&quot;: [
            &quot;token_splitter&quot;,
            &quot;prefixer&quot;
          ]
        },
        &quot;backwards_direction_analyzer&quot;: {
          &quot;type&quot;: &quot;custom&quot;,
          &quot;tokenizer&quot;: &quot;keyword&quot;,
          &quot;filter&quot;: [
            &quot;reverse&quot;,
            &quot;token_splitter&quot;,
            &quot;prefixer&quot;
          ]
        }
      },
      &quot;filter&quot;: {
        &quot;token_splitter&quot;: {
          &quot;type&quot;: &quot;word_delimiter_graph&quot;,
          &quot;split_on_case_change&quot;: false,
          &quot;split_on_numerics&quot;: false
        },
        &quot;inject_prefix&quot;: {
          &quot;type&quot;: &quot;pattern_replace&quot;,
          &quot;pattern&quot;: &quot;^(.*)$&quot;,
          &quot;replacement&quot;: &quot;PREFIX $1&quot;
        },
        &quot;prefixer&quot;: {
          &quot;type&quot;: &quot;condition&quot;,
          &quot;filter&quot;: [
            &quot;inject_prefix&quot;,
            &quot;token_splitter&quot;
          ],
          &quot;script&quot;: {
            &quot;source&quot;: &quot;token.getPosition() == 0&quot;
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;body&quot;: {
        &quot;type&quot;: &quot;text&quot;,
        &quot;fields&quot;: {
          &quot;normal_direction&quot;: {
            &quot;type&quot;: &quot;text&quot;,
            &quot;analyzer&quot;: &quot;normal_direction_analyzer&quot;
          },
          &quot;backwards_direction&quot;: {
            &quot;type&quot;: &quot;text&quot;,
            &quot;analyzer&quot;: &quot;backwards_direction_analyzer&quot;
          }
        }
      }
    }
  }
}
</code></pre><p>Let&rsquo;s index 2 documents:</p><pre><code class=language-text>POST _bulk?refresh=true
{ &quot;index&quot; : { &quot;_index&quot; : &quot;messages&quot;, &quot;_id&quot; : &quot;1&quot; } }
{ &quot;body&quot;: &quot;this is my message&quot; }
{ &quot;index&quot; : { &quot;_index&quot; : &quot;messages&quot;, &quot;_id&quot; : &quot;2&quot; } }
{ &quot;body&quot;: &quot;this is my message which is longer&quot; }
</code></pre><p>Let&rsquo;s query the <code>messages</code> index:</p><pre><code class=language-json>{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;must&quot;: [
        {
          &quot;match_phrase&quot;: {
            &quot;body.normal_direction&quot;: {
              &quot;query&quot;: &quot;is this my message&quot;,
              &quot;slop&quot;: 2
            }
          }
        },
        {
          &quot;match_phrase&quot;: {
            &quot;body.backwards_direction&quot;: {
              &quot;query&quot;: &quot;is this my message&quot;,
              &quot;slop&quot;: 2
            }
          }
        }
      ],
      &quot;_name&quot;: &quot;full phrase with accounted length&quot;
    }
  }
}
</code></pre><p>The response:</p><pre><code class=language-json>{
  &quot;took&quot;: 2,
  &quot;timed_out&quot;: false,
  &quot;_shards&quot;: {
    &quot;total&quot;: 1,
    &quot;successful&quot;: 1,
    &quot;skipped&quot;: 0,
    &quot;failed&quot;: 0
  },
  &quot;hits&quot;: {
    &quot;total&quot;: {
      &quot;value&quot;: 1,
      &quot;relation&quot;: &quot;eq&quot;
    },
    &quot;max_score&quot;: 0.46947598,
    &quot;hits&quot;: [
      {
        &quot;_index&quot;: &quot;messages&quot;,
        &quot;_id&quot;: &quot;1&quot;,
        &quot;_score&quot;: 0.46947598,
        &quot;_source&quot;: {
          &quot;body&quot;: &quot;this is my message&quot;
        },
        &quot;matched_queries&quot;: [
          &quot;full phrase with accounted length&quot;
        ]
      }
    ]
  }
}
</code></pre><p>The response is exactly as expected: it does match the shorter but not the longer message body.</p><p>Downsides of the approach:</p><ul><li>The text is indexed 2 times. But it is acceptable to index and analyze the text in multiple ways, e.g. stemming.</li><li>Analyzers got somewhat complicated. But the complicated bit is isolated only for dealing with the first token. Also, a couple of examples with the <code>_analyze</code> API should make the analysis pipeline understandable.</li><li>The total text length is limited to the <code>Integer.MAX_VALUE</code> which is 2147483647 characters. But ~2 GB per message should be enough.</li><li>&ldquo;Tokenization&rdquo; is done with the <code>word_delimiter_graph</code>. But it is a standard <a href=https://lucene.apache.org>Lucene</a> feature that you should learn anyway.</li><li>Also, all the gotchas of the <code>slop</code> are relevant, e.g. if one token was dropped/added from/to the query, then there still would be a match.</li><li>I&rsquo;d suggest you also should take extra care in handling the non-alphanumeric symbols.</li><li>Also, the setup might produce surprising results for shorter (e.g. 1-5 words) strings.</li></ul><p>A nice thing is that this solution is contained within the text analysis pipeline: no ingest pipelines, no scripting in queries, etc.</p><h2 id=summary>Summary</h2><p>In this post we&rsquo;ve defined a problem of matching entire text with some flexibility in terms of token position changes.
We&rsquo;ve discussed 2 approaches: fingerprinting and leveraging text analysis pipeline to account for the text length.
IMO, both approaches are somewhat hacky and have their downsides.
I&rsquo;ve picked to work out the text analysis approach, and I&rsquo;ve got my demo done.</p><p>Let me know how you would approach this problem in the comments below.</p><h2 id=footnotes>Footnotes</h2><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>Of course, I&rsquo;ve been thinking about leveraging <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-first-query.html><code>span_first</code></a> query, but it requires another inner term level span query.
Which would make the query construction complicated because tokenization should be done inside your application. <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>lowercasing and ascii-folding are omitted for brevity. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class=article-tags><a class="badge badge-light" href=/blog/tags/elasticsearch/>elasticsearch</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/&text=Match%20the%20Entire%20Text%20with%20a%20Slop%20in%20Elasticsearch" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/&t=Match%20the%20Entire%20Text%20with%20a%20Slop%20in%20Elasticsearch" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook-f"></i></a></li><li><a href="mailto:?subject=Match%20the%20Entire%20Text%20with%20a%20Slop%20in%20Elasticsearch&body=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/&title=Match%20the%20Entire%20Text%20with%20a%20Slop%20in%20Elasticsearch" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=Match%20the%20Entire%20Text%20with%20a%20Slop%20in%20Elasticsearch%20https://www.jocas.lt/blog/post/elasticsearch-full-phrase-with-slop/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li></ul></div><script src=https://giscus.app/client.js data-repo=dainiusjocas/blog data-repo-id="MDEwOlJlcG9zaXRvcnkyMjA4MjEwNzY=" data-category=General data-category-id=DIC_kwDODSl2VM4CPWBS data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=en data-loading=lazy crossorigin=anonymous async></script><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/blog/post/tricks-with-elasticsearch-completion-suggesters/>Tricks with Elasticsearch Completions Suggesters</a></li><li><a href=/blog/post/entity-resolution/>Entity Resolution with Opensearch/Elasticsearch</a></li><li><a href=/blog/post/kibana-profile-many-shards-hack/>Make Elasticsearch Query Profiling Faster in Kibana</a></li><li><a href=/blog/talk/elasticsearch-community-meetup/>Lessons Learned While Scaling Elasticsearch @ Vinted</a></li><li><a href=/blog/talk/wearedevelopers-2021-05-12/>Don't Change the Partition Count for Kafka Topics!</a></li></ul></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/clojure.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/java.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>hljs.initHighlightingOnLoad();</script><script>const search_config={"indexURI":"/blog/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/blog/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js></script><div class=container><footer class=site-footer><p class=powered-by>© 2023 Dainius Jocas &#183;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>